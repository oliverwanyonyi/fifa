(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{17:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(27),r=n.n(c),l=n(3),o=n(2),i=n(4),d=n(0),j=Object(a.createContext)(),u=function(){return Object(a.useContext)(j)},b=function(e){var t=e.children,n=Object(a.useState)(null),s=Object(l.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)([]),u=Object(l.a)(i,2),b=u[0],m=u[1],p=Object(o.f)();return Object(a.useEffect)((function(){var e=localStorage.getItem("userLogin")?JSON.parse(localStorage.getItem("userLogin")):null;e&&r(e)}),[p]),Object(d.jsx)(j.Provider,{value:{user:c,users:b,setUsers:m},children:t})},m=(n(34),function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],c=u().user,r=Object(o.f)();return Object(d.jsx)("nav",{className:"nav",children:Object(d.jsxs)("div",{className:"container nav__container",children:[Object(d.jsx)(i.b,{className:"nav__brand",to:"/",children:"Fifa Rank"}),Object(d.jsx)("div",{className:"nav__links-container",children:Object(d.jsx)("ul",{className:"nav__links",children:Object(d.jsxs)("li",{className:"nav__item",children:[Object(d.jsxs)("button",{className:"nav__link",onClick:function(){return s(!n)},children:[Object(d.jsx)("span",{className:"nav__link-text",children:c&&c.name}),Object(d.jsx)("span",{className:"nav__drop-icon fas fa-chevron-down"})]}),Object(d.jsxs)("ul",{className:n?"nav__drop drop-active":"nav__drop",children:[Object(d.jsx)("li",{className:"nav__drop-item",children:Object(d.jsx)(i.b,{className:"nav__drop-link",to:"/profile",children:"Profile"})}),"admin"===(null===c||void 0===c?void 0:c.role)&&Object(d.jsx)("li",{className:"nav__drop-item",children:Object(d.jsx)(i.b,{className:"nav__drop-link",to:"/contest",children:"Contest"})}),Object(d.jsx)("li",{className:"nav__drop-item",children:Object(d.jsx)("button",{className:"nav__drop-link btn",onClick:function(){localStorage.removeItem("userLogin"),r("/login")},children:"Logout"})})]})]})})})]})})}),p=(n(35),n(8)),h=n.n(p),O=n(10),f=n(11),x=n.n(f),v="USER_REGISTER_REQUEST",g="USER_REGISTER_SUCCESS",N="USER_REGISTER_FAIL",y="USER_LOGIN_REQUEST",_="USER_LOGIN_SUCCESS",S="USER_LOGIN_FAIL",w="GET_USERS_REQUEST",E="GET_USERS_SUCCESS",k="GET_USERS_FAIL",C="UPDATE_STATS_REQUEST",R="UPDATE_STATS_SUCCESS",L="UPDATE_STATS_FAIL",U="https://fifa2022.herokuapp.com",T=function(){var e=Object(O.a)(h.a.mark((function e(t,n,a){var s,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.prev=1,t({type:v}),s={headers:{"Content-type":"application/json"}},e.next=6,x.a.post("".concat(U,"/users/register"),n,s);case 6:c=e.sent,r=c.data,console.log(r),t({type:g,payload:r}),localStorage.setItem("userLogin",JSON.stringify(r)),setTimeout((function(){return a("/")}),2500),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t({type:N,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:"No internet connection!"});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(O.a)(h.a.mark((function e(t,n,a){var s,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:y}),s={headers:{"Content-type":"application/json"}},e.next=5,x.a.post("".concat(U,"/users/login"),n,s);case 5:c=e.sent,r=c.data,t({type:_,payload:r}),localStorage.setItem("userLogin",JSON.stringify(r)),setTimeout((function(){return a("/")}),2500),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.response&&e.t0.response.data.message),t({type:S,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:"No internet connection!"});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(O.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:w}),e.next=4,x.a.get("".concat(U,"/users"));case 4:n=e.sent,a=n.data,t({type:E,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:k,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:"No internet connection!"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(O.a)(h.a.mark((function e(t,n,a){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:C}),s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=5,x.a.put("".concat(U,"/users/"),n,s);case 5:t({type:R,payload:!0}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t({type:L,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:"No internet connection!"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),P=(n(55),function(e){var t=e.type,n=e.children,s=Object(a.useState)(!0),c=Object(l.a)(s,2),r=c[0],o=c[1];return setTimeout((function(){return o(!1)}),4e3),Object(d.jsxs)("div",{className:r?"feedback-message ".concat(t):"feedback-message ".concat(t," d-none"),children:[Object(d.jsx)("p",{className:"info",children:n}),Object(d.jsx)("span",{className:"fas fa-times close-feedback-btn",onClick:function(){return o(!1)}})]})}),G=function(e){var t=e.user,n=e.idx;return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:n+1}),Object(d.jsx)("td",{children:t.name}),Object(d.jsx)("td",{children:t.stat.length}),Object(d.jsx)("td",{children:t.won}),Object(d.jsx)("td",{children:t.lost}),Object(d.jsx)("td",{children:t.drawn}),Object(d.jsx)("td",{children:t.totalPoints})]})},D=n(7),J=function(e,t){switch(t.type){case v:return{loading:!0};case g:return{loading:!1,user:t.payload,success:!0};case N:return{loading:!1,error:t.payload};default:return e}},Q=function(e,t){switch(t.type){case y:return{loading:!0};case _:return{loading:!1,user:t.payload,success:!0};case S:return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};case"CLEAR_FEEDBACK_MESSAGE":return Object(D.a)(Object(D.a)({},e),{},{error:null,success:null});default:return e}},B=function(e,t){switch(t.type){case w:return{loading:!0};case E:return{loading:!1,users:t.payload};case k:return{loading:!1,error:t.payload};default:return e}},W=function(e,t){switch(t.type){case C:return{loading:!0};case R:return{loading:!1,success:t.payload};case L:return{loading:!1,error:t.payload};default:return e}},M=(n(56),function(){return Object(d.jsx)("div",{className:"loader",children:Object(d.jsx)("span",{className:"fas fa-spinner fa-spin"})})}),z=function(){var e,t=Object(o.f)(),n=u().user,s=Object(a.useReducer)(B),c=Object(l.a)(s,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){n?I(i):t("/login")}),[n,t]),Object(d.jsxs)("div",{className:"container home",children:[(null===r||void 0===r?void 0:r.error)&&Object(d.jsx)(P,{type:"error",children:null===r||void 0===r?void 0:r.error}),(null===r||void 0===r?void 0:r.loading)?Object(d.jsx)(M,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"home-landing",children:[Object(d.jsxs)("h1",{className:"display1",children:["Welcome back ",Object(d.jsxs)("span",{children:[" ",n&&n.name]})]}),Object(d.jsx)("p",{className:"text-muted",children:"Here is how the table stands as per the past matches."})]}),Object(d.jsx)("div",{className:"competion-table",children:Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Rank"}),Object(d.jsx)("th",{children:"Player"}),Object(d.jsx)("th",{children:"GP"}),Object(d.jsx)("th",{children:"Won"}),Object(d.jsx)("th",{children:"Lost"}),Object(d.jsx)("th",{children:"Draw"}),Object(d.jsx)("th",{children:"Points"})]})}),Object(d.jsx)("tbody",{children:null===r||void 0===r||null===(e=r.users)||void 0===e?void 0:e.map((function(e,t){return Object(d.jsx)(G,{user:e,idx:t},e._id)}))})]})})]})]})},H=n(9),K=(n(17),function(){var e=Object(a.useState)({name:"",email:"",password:""}),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(o.f)(),r={loading:!1,user:u().user,error:null},j=Object(a.useReducer)(Q,r),b=Object(l.a)(j,2),m=b[0],p=b[1],h=function(e){s(Object(D.a)(Object(D.a)({},n),{},Object(H.a)({},e.target.name,e.target.value)))};return Object(a.useEffect)((function(){JSON.parse(localStorage.getItem("userLogin"))&&c("/")}),[c]),console.log(m),Object(d.jsx)("div",{className:"auth",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"auth-wrapper",children:[Object(d.jsxs)("div",{className:"tabs-header",children:[Object(d.jsx)("div",{className:"tab",children:Object(d.jsx)(i.b,{to:"/register",children:"Register"})}),Object(d.jsx)("div",{className:"tab",children:Object(d.jsx)(i.b,{to:"/login",className:"tab-active",children:"Login"})})]}),Object(d.jsxs)("form",{className:"auth-form",children:[Object(d.jsxs)("div",{className:"form-header",children:[Object(d.jsx)("h1",{className:"display1",children:"Login"}),Object(d.jsx)("p",{className:"text-muted",children:"Login into your account "})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("input",{type:"email",className:"form-control",name:"email",value:n.email,onChange:function(e){return h(e)},id:"email",placeholder:" "}),Object(d.jsx)("label",{htmlFor:"email",className:"form-label",children:"Enter Email Address"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("input",{type:"password",className:"form-control",name:"password",value:n.password,onChange:function(e){return h(e)},id:"password",placeholder:" "}),Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Enter Password"})]}),Object(d.jsxs)("div",{className:"form-footer",children:[Object(d.jsx)("button",{className:"form-submit",onClick:function(e){e.preventDefault(),F(p,n,c)},disabled:null===m||void 0===m?void 0:m.loading,children:(null===m||void 0===m?void 0:m.loading)?"Loading please wait":"Login"}),Object(d.jsxs)("p",{children:["Forgot password?",Object(d.jsx)(i.b,{to:"/reset-password",className:"auth-redirect",children:"Reset here"})]})]})]}),(null===m||void 0===m?void 0:m.success)&&Object(d.jsx)(P,{type:"success",children:"Login successful you are being redirected!"}),(null===m||void 0===m?void 0:m.error)&&Object(d.jsx)(P,{type:"error",children:null===m||void 0===m?void 0:m.error})]})})})}),q=function(){return Object(d.jsx)("div",{children:"Coming soon"})},V=function(){var e=u().user,t=Object(o.f)(),n=Object(a.useState)({name:"",email:"",password:""}),s=Object(l.a)(n,2),c=s[0],r=s[1],j=function(e){r(Object(D.a)(Object(D.a)({},c),{},Object(H.a)({},e.target.name,e.target.value)))},b={loading:!1,user:e,error:null},m=Object(a.useReducer)(J,b),p=Object(l.a)(m,2),h=p[0],O=p[1];return Object(a.useEffect)((function(){JSON.parse(localStorage.getItem("userLogin"))&&t("/")}),[t]),Object(d.jsx)("div",{className:"auth",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"auth-wrapper",children:[Object(d.jsxs)("div",{className:"tabs-header",children:[Object(d.jsx)("div",{className:"tab",children:Object(d.jsx)(i.b,{to:"/register",className:"tab-active",children:"Register"})}),Object(d.jsx)("div",{className:"tab",children:Object(d.jsx)(i.b,{to:"/login",children:"Login"})})]}),Object(d.jsxs)("form",{className:"auth-form",children:[Object(d.jsxs)("div",{className:"form-header",children:[Object(d.jsx)("h1",{className:"display1",children:"Register"}),Object(d.jsx)("p",{className:"text-muted",children:"Create a new account "})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("input",{type:"text",name:"name",className:"form-control",id:"name",value:c.name,onChange:function(e){return j(e)},placeholder:" "}),Object(d.jsx)("label",{htmlFor:"name",className:"form-label",children:"Enter Name"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("input",{type:"email",className:"form-control",name:"email",id:"email",value:c.email,onChange:function(e){return j(e)},placeholder:" "}),Object(d.jsx)("label",{htmlFor:"email",className:"form-label",children:"Enter Email Address"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("input",{type:"password",className:"form-control",name:"password",id:"password",value:c.password,onChange:function(e){return j(e)},placeholder:" "}),Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Enter Password"})]}),Object(d.jsxs)("div",{className:"form-footer",children:[Object(d.jsx)("button",{className:"form-submit",onClick:function(e){e.preventDefault(),T(O,c,t)},disabled:null===h||void 0===h?void 0:h.loading,children:(null===h||void 0===h?void 0:h.loading)?"Loading please wait":"Register"}),Object(d.jsxs)("p",{children:["Forgot password?",Object(d.jsx)(i.b,{to:"/reset-password",className:"auth-redirect",children:"Reset here"})]})]})]}),(null===h||void 0===h?void 0:h.success)&&Object(d.jsx)(P,{type:"success",children:"Account created successfully you are being redirected!"}),(null===h||void 0===h?void 0:h.error)&&Object(d.jsx)(P,{type:"error",children:null===h||void 0===h?void 0:h.error})]})})})},X=n(28),Y=function(){var e=Object(o.f)(),t=u(),n=t.users,s=t.setUsers,c=t.user,r=Object(a.useState)(null),i=Object(l.a)(r,2),j=i[0],b=i[1],m=Object(a.useState)({player:"",opponent:"",winner:""}),p=Object(l.a)(m,2),f=p[0],v=p[1],g=Object(a.useState)(!0),N=Object(l.a)(g,2),y=N[0],_=N[1],S=Object(a.useState)([]),w=Object(l.a)(S,2),E=w[0],k=w[1],C=Object(a.useReducer)(W,{loading:!1,users:[],error:null}),R=Object(l.a)(C,2),L=R[0],T=R[1],F=function(e){v(Object(D.a)(Object(D.a)({},f),{},Object(H.a)({},e.target.name,e.target.value)));var t=E.find((function(t){return t===e.target.value}));E.length<=1&&k([].concat(Object(X.a)(E),[t||e.target.value]))};return Object(a.useEffect)((function(){var e=function(){var e=Object(O.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(U,"/users/"));case 3:t=e.sent,n=t.data,s(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b("No internet Connection!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){"admin"!==(null===c||void 0===c?void 0:c.role)&&e("/")}),[null===c||void 0===c?void 0:c.role]),Object(d.jsx)("div",{className:"auth",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"auth-wrapper",children:[Object(d.jsxs)("form",{className:"auth-form",children:[Object(d.jsxs)("div",{className:"form-header",children:[Object(d.jsx)("p",{className:"text-muted",children:"Update final match outcomes"}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsxs)("div",{className:"input-group",children:[Object(d.jsx)("input",{type:"checkbox",onChange:function(e){return _(e.target.checked)},name:"outcome",checked:y,id:"outcome"}),Object(d.jsx)("label",{htmlFor:"outcome",children:y?"This match went two way win/lose uncheck for draw":"This match ended in a draw uncheck for 2 way"})]})})]}),y?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("select",{className:"form-select",name:"player",onSelect:function(){return alert("hello world")},value:f.player,onChange:function(e){return F(e)},children:[Object(d.jsx)("option",{value:""}),n&&n.filter((function(e){return e._id!==f.opponent})).map((function(e){return Object(d.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),Object(d.jsx)("label",{className:"form-label",children:"Player"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("select",{className:"form-select",name:"opponent",value:f.opponent,onChange:function(e){return F(e)},children:[Object(d.jsx)("option",{value:""}),n&&n.filter((function(e){return e._id!==f.player})).map((function(e){return Object(d.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),Object(d.jsx)("label",{className:"form-label",children:"Opponent"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("select",{className:"form-select",name:"winner",value:f.winner,onChange:function(e){return F(e)},children:[Object(d.jsx)("option",{value:""}),E.map((function(e){return Object(d.jsx)("option",{value:e,children:n&&n.find((function(t){return t._id===e})).name},e)}))]}),Object(d.jsx)("label",{className:"form-label",children:"Winner"})]})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("select",{className:"form-select",name:"player",value:f.player,onChange:function(e){return F(e)},children:[Object(d.jsx)("option",{value:""}),n&&n.map((function(e){return Object(d.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),Object(d.jsx)("label",{className:"form-label",children:"Player"})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("select",{className:"form-select",name:"opponent",value:f.opponent,onChange:function(e){return F(e)},children:[Object(d.jsx)("option",{value:""}),n&&n.map((function(e){return Object(d.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),Object(d.jsx)("label",{className:"form-label",children:"Opponent"})]})]}),Object(d.jsxs)("div",{className:"form-footer",children:[!y&&Object(d.jsx)("p",{className:"info",children:"Pick player and opponent and submit if the outcome was a draw"}),Object(d.jsx)("button",{className:"form-submit",onClick:function(e){e.preventDefault(),A(T,f,c),v({player:"",opponent:"",winner:""})},disabled:null===L||void 0===L?void 0:L.loading,children:(null===L||void 0===L?void 0:L.loading)?"Saving please wait":"Save"})]})]}),(null===L||void 0===L?void 0:L.success)&&Object(d.jsx)(P,{type:"success",children:"Details Updated successfully"}),(null===L||void 0===L?void 0:L.error)&&Object(d.jsx)(P,{type:"error",children:null===L||void 0===L?void 0:L.error}),j&&Object(d.jsx)(P,{type:"error",children:j})]})})})};var Z=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],c=Object(o.e)();return Object(a.useEffect)((function(){"/register"===c.pathname||"/login"===c.pathname?s(!1):s(!0)}),[c]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"app",children:[n&&Object(d.jsx)(m,{}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/",element:Object(d.jsx)(z,{})}),Object(d.jsx)(o.a,{path:"/profile",element:Object(d.jsx)(q,{})}),Object(d.jsx)(o.a,{path:"/login",element:Object(d.jsx)(K,{})}),Object(d.jsx)(o.a,{path:"/register",element:Object(d.jsx)(V,{})}),Object(d.jsx)(o.a,{path:"/contest",element:Object(d.jsx)(Y,{})})]})]})})};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(b,{children:Object(d.jsx)(Z,{})})})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.3b45dcc2.chunk.js.map